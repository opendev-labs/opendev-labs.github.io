import{r as o,j as e,L as w,b as p,z as ee,E as te,F as T,T as C,I as se,J as $,K as ie,M as ne,U as ae,N as _,a as D,D as A,W as re,Q as ce,V as le}from"./index-XjLw03Z9.js";import{G as oe,S as B,F as de}from"./Indicators-BZzmL_qx.js";import{a as Y,s as V,b as P}from"./VoidApp-DnJ2EPmW.js";const xe=t=>{switch(t){case w.ERROR:return"text-red-500";case w.WARN:return"text-yellow-600";case w.SYSTEM:return"text-white font-bold";case w.DEBUG:return"text-zinc-700";default:return"text-zinc-500"}},pe=t=>{const i=t.toLowerCase();return i.includes("deploying")||i.includes("building")||i.includes("cloning")||i.includes("installing")?{text:"text-white",ping:"bg-white",dot:"bg-white"}:{text:"text-zinc-600",ping:"bg-zinc-600",dot:"bg-zinc-700"}},me=({logs:t,isBuilding:i,currentBuildStatusText:s})=>{const n=o.useRef(null),c=pe(s);return o.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[t]),e.jsxs("div",{className:"border border-zinc-900 bg-black flex flex-col flex-grow min-h-[500px]",children:[e.jsxs("div",{className:"flex justify-between items-center px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:[e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Real-time Telemetry"}),i&&e.jsxs("div",{className:`flex items-center gap-3 text-[10px] font-bold uppercase tracking-widest ${c.text}`,children:[e.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[e.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full ${c.ping} opacity-40`}),e.jsx("span",{className:`relative inline-flex rounded-full h-1.5 w-1.5 ${c.dot}`})]}),s]})]}),e.jsx("div",{ref:n,className:"p-8 overflow-y-auto font-mono text-[13px] bg-black flex-grow selection:bg-white selection:text-black",children:e.jsxs("div",{className:"space-y-2",children:[t.map((a,u)=>e.jsxs("div",{className:"flex leading-relaxed group",children:[e.jsx("span",{className:"text-zinc-800 text-[11px] font-bold mr-6 select-none shrink-0 w-20",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),e.jsx("div",{className:"flex-grow",children:e.jsxs("span",{className:`${xe(a.level)}`,children:[e.jsx("span",{className:"opacity-30 mr-3 text-[11px] font-bold uppercase tracking-tighter",children:a.level}),e.jsx("span",{className:"tracking-tight font-medium",children:a.message})]})})]},u)),i&&e.jsxs("div",{className:"flex gap-1.5 mt-4",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-700 rounded-full animate-pulse"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-700 rounded-full animate-pulse [animation-delay:200ms]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-700 rounded-full animate-pulse [animation-delay:400ms]"})]})]})})]})};async function F(t){const i="AIzaSyBgjTsiUmjPnCESnd4PMiGbdpGmeGClhIM",s=new oe({apiKey:i}),c=`You are an expert systems analyst. Analyze these error logs and provide a concise, actionable resolution. Focus on protocol failures and mesh sync errors:

${t.map(a=>`[${a.level}] ${a.message}`).join(`
`)}`;try{return(await s.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:c}]}]})).text?.trim()||"Neural analysis yielded no data."}catch(a){return console.error("AI Assistance Error:",a),"Neural analysis failed. Manual diagnostics recommended."}}const he=({logs:t,deploymentStatus:i,deploymentId:s})=>{const[n,c]=o.useState([]),[a,u]=o.useState(""),[b,y]=o.useState(!1),v=o.useRef(null),I=o.useRef(null),z=t.some(h=>h.level===w.ERROR),L=o.useCallback(async()=>{const h=t.filter(g=>g.level===w.ERROR);if(h.length===0)return;y(!0),c(g=>[...g,{sender:"ai",text:"Analyzing protocol failure logs. Synchronizing neural context..."}]);const f=await F(h);c(g=>[...g,{sender:"ai",text:f}]),y(!1)},[t]);o.useEffect(()=>{i===p.ERROR&&z&&s!==I.current&&(c([]),L(),I.current=s)},[i,s,t,z,L]),o.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[n]);const k=async h=>{if(h.preventDefault(),!a.trim()||b)return;const f=a;c(j=>[...j,{sender:"user",text:f}]),u(""),y(!0),await new Promise(j=>setTimeout(j,1500));const g=t.filter(j=>j.level===w.ERROR),E=await F(g);c(j=>[...j,{sender:"ai",text:E}]),y(!1)};return e.jsxs("div",{className:"bg-black border border-zinc-900 rounded-none flex flex-col h-full sticky top-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"flex items-center gap-3 p-5 border-b border-zinc-900 bg-zinc-950/50",children:[e.jsx(ee,{className:"w-5 h-5 text-zinc-400"}),e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Neural Analyst"})]}),e.jsxs("div",{ref:v,className:"flex-grow p-6 space-y-6 overflow-y-auto",children:[n.map((h,f)=>e.jsx("div",{className:`flex ${h.sender==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-none px-4 py-3 ${h.sender==="user"?"bg-white text-black text-[13px] font-bold":"bg-black border border-zinc-900 text-zinc-300 text-[13px] font-medium leading-relaxed"}`,children:e.jsx("p",{className:"whitespace-pre-wrap",children:h.text})})},f)),b&&n[n.length-1]?.sender!=="user"&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-black border border-zinc-900 px-4 py-4",children:e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-600 rounded-full animate-pulse"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-600 rounded-full animate-pulse [animation-delay:200ms]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-600 rounded-full animate-pulse [animation-delay:400ms]"})]})})})]}),e.jsx("div",{className:"p-5 border-t border-zinc-900 bg-black",children:e.jsxs("form",{onSubmit:k,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:h=>u(h.target.value),placeholder:"Inquire node status...",className:"flex-grow bg-zinc-950 border border-zinc-900 px-4 py-3 text-xs font-bold text-white placeholder:text-zinc-700 focus:outline-none focus:border-white transition-all uppercase tracking-widest",disabled:b}),e.jsx("button",{type:"submit",className:"h-11 w-11 bg-white text-black flex items-center justify-center hover:bg-zinc-200 disabled:opacity-50 transition-all",disabled:b||!a.trim(),children:e.jsx(te,{className:"w-4 h-4"})})]})})]})},M=({title:t,value:i,unit:s})=>e.jsxs("div",{className:"border border-zinc-900 bg-black p-8",children:[e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest mb-3",children:t}),e.jsxs("p",{className:"text-3xl font-bold text-white tracking-tighter",children:[i,s&&e.jsx("span",{className:"text-xs font-bold text-zinc-700 ml-2 uppercase tracking-widest",children:s})]})]}),O=({metric:t,value:i,unit:s,rating:n})=>{const c={good:"text-white","needs-improvement":"text-zinc-500",poor:"text-zinc-700"};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:t}),e.jsxs("p",{className:`text-2xl font-bold tracking-tighter ${c[n]}`,children:[i,e.jsx("span",{className:"text-[10px] uppercase font-bold ml-1",children:s})]})]})},ue=()=>e.jsxs("div",{className:"space-y-8 animate-pulse",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-0 border-l border-t border-zinc-900",children:[e.jsx("div",{className:"h-32 border-r border-b border-zinc-900 bg-black"}),e.jsx("div",{className:"h-32 border-r border-b border-zinc-900 bg-black"}),e.jsx("div",{className:"h-32 border-r border-b border-zinc-900 bg-black"})]}),e.jsx("div",{className:"border border-zinc-900 bg-black p-8 relative h-64 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-800 rounded-full animate-ping"})})]}),be=t=>({lcp:t.lcp<=2.5?"good":t.lcp<=4?"needs-improvement":"poor",fid:t.fid<=100?"good":t.fid<=300?"needs-improvement":"poor",cls:t.cls<=.1?"good":t.cls<=.25?"needs-improvement":"poor"}),ge=({data:t})=>{const[i,s]=o.useState(!0),n=o.useMemo(()=>Math.max(...t.dailyVisitors.map(a=>a.visitors)),[t.dailyVisitors]),c=be(t.webVitals);return o.useEffect(()=>{const a=setTimeout(()=>s(!1),1200);return()=>clearTimeout(a)},[]),i?e.jsx(ue,{}):e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-0 border-l border-t border-zinc-900",children:[e.jsx("div",{className:"border-r border-b border-zinc-900",children:e.jsx(M,{title:"Total Requests [7d]",value:t.dailyVisitors.reduce((a,u)=>a+u.visitors,0).toLocaleString()})}),e.jsx("div",{className:"border-r border-b border-zinc-900",children:e.jsx(M,{title:"Logic Invocations",value:t.totalPageViews.toLocaleString()})}),e.jsx("div",{className:"border-r border-b border-zinc-900",children:e.jsx(M,{title:"Avg Latency",value:t.avgLoadTime.toString(),unit:"ms"})})]}),e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Traffic Distribution"})}),e.jsx("div",{className:"p-12",children:e.jsx("div",{className:"flex justify-between items-end h-48 gap-4",children:t.dailyVisitors.map((a,u)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group",children:[e.jsx("div",{className:"w-full bg-zinc-900 border border-zinc-800 hover:bg-white hover:border-white transition-all duration-500",style:{height:`${a.visitors/n*100}%`}}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-700 uppercase tracking-widest mt-4 opacity-0 group-hover:opacity-100 transition-opacity",children:a.day})]},u))})})]}),e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Node Efficiency"})}),e.jsx("div",{className:"p-12",children:e.jsxs("div",{className:"grid grid-cols-3 gap-12 text-center md:text-left",children:[e.jsx(O,{metric:"Nexus LCP",value:t.webVitals.lcp,unit:"s",rating:c.lcp}),e.jsx(O,{metric:"Nexus FID",value:t.webVitals.fid,unit:"ms",rating:c.fid}),e.jsx(O,{metric:"Nexus CLS",value:t.webVitals.cls,unit:"%",rating:c.cls})]})})]})]})},fe=({status:t})=>{const i={[T.ACTIVE]:"bg-white",[T.IDLE]:"bg-zinc-800",[T.ERROR]:"bg-red-600"};return e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${i[t]}`})},je=({functions:t})=>e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Logic Primitives"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-900 bg-zinc-950/30",children:[e.jsx("th",{className:"px-8 py-4 text-[9px] font-bold text-zinc-600 uppercase tracking-[0.2em]",children:"Protocol"}),e.jsx("th",{className:"px-8 py-4 text-[9px] font-bold text-zinc-600 uppercase tracking-[0.2em]",children:"Identity"}),e.jsx("th",{className:"px-8 py-4 text-[9px] font-bold text-zinc-600 uppercase tracking-[0.2em]",children:"Gateway"}),e.jsx("th",{className:"px-8 py-4 text-[9px] font-bold text-zinc-600 uppercase tracking-[0.2em]",children:"Nexus Node"}),e.jsx("th",{className:"px-8 py-4 text-[9px] font-bold text-zinc-600 uppercase tracking-[0.2em] text-right",children:"Executions"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-900",children:t.map(i=>e.jsxs("tr",{className:"hover:bg-zinc-950/50 transition-all",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{status:i.status}),e.jsx("span",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:i.status})]})}),e.jsx("td",{className:"px-8 py-6 text-[13px] font-bold text-white tracking-tight",children:i.name}),e.jsx("td",{className:"px-8 py-6 text-[11px] font-mono text-zinc-500",children:i.path}),e.jsx("td",{className:"px-8 py-6 text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:i.region}),e.jsx("td",{className:"px-8 py-6 text-[11px] font-bold text-white text-right font-mono",children:i.invocations.toLocaleString()})]},i.id))})]})})]}),Ne=({members:t})=>{const i=s=>{s.preventDefault(),alert("Invitation simulation: Dispatching neural handshake...")};return e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-10 border-b border-zinc-900 bg-zinc-950/50",children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tighter mb-2",children:"Fleet Registry"}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"Authorized neural nodes."})]}),e.jsx("div",{className:"divide-y divide-zinc-900",children:t.map(s=>e.jsxs("div",{className:"p-8 flex justify-between items-center hover:bg-zinc-950/50 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-12 h-12 border border-zinc-900 flex items-center justify-center bg-black overflow-hidden",children:e.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover grayscale opacity-60 group-hover:opacity-100 transition-all duration-500"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[13px] font-bold text-white tracking-tight",children:s.name}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-700 uppercase tracking-widest",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx("span",{className:`text-[9px] font-bold uppercase tracking-[0.2em] px-3 py-1 border ${s.role===C.OWNER?"border-white text-white":"border-zinc-900 text-zinc-600"}`,children:s.role===C.OWNER?"PROTOCOL":s.role}),s.role!==C.OWNER&&e.jsx("button",{className:"text-[10px] font-bold text-zinc-800 hover:text-red-900 uppercase tracking-widest transition-colors",children:"Sever"})]})]},s.id))}),e.jsxs("div",{className:"p-10 border-t border-zinc-900 bg-zinc-950/20",children:[e.jsx("h4",{className:"text-[10px] font-bold text-white uppercase tracking-widest mb-6",children:"Authorize Node"}),e.jsxs("form",{onSubmit:i,className:"flex gap-4",children:[e.jsx("input",{type:"email",placeholder:"node-identity@nexus.sh",className:"flex-grow h-12 bg-black border border-zinc-900 px-6 text-[11px] font-mono text-white placeholder:text-zinc-800 focus:outline-none focus:border-white transition-all"}),e.jsx("button",{type:"submit",className:"h-12 bg-white text-black font-bold uppercase tracking-widest px-10 hover:bg-zinc-200 transition-all",children:"Authorize"})]})]})]})},ve=t=>{const i="h-4 w-4 text-zinc-500";switch(t){case"Deployment":return e.jsx(B,{status:p.DEPLOYED});case"Domain":return e.jsx(_,{className:i});case"Settings":return e.jsx(ae,{className:i});case"Storage":return e.jsx(ne,{className:i});case"Integration":return e.jsx(ie,{className:i});case"Git":return e.jsx($,{className:i});default:return e.jsx(se,{className:i})}},we=t=>{const i=Math.floor((new Date().getTime()-t.getTime())/1e3);let s=i/31536e3;return s>1?Math.floor(s)+"Y":(s=i/2592e3,s>1?Math.floor(s)+"M":(s=i/86400,s>1?Math.floor(s)+"D":(s=i/3600,s>1?Math.floor(s)+"H":(s=i/60,s>1?Math.floor(s)+"M":Math.floor(i)+"S"))))},ye=({events:t})=>e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Protocol History"})}),e.jsx("div",{className:"divide-y divide-zinc-900",children:t.map(i=>e.jsxs("div",{className:"grid grid-cols-12 gap-6 p-8 items-start hover:bg-zinc-950/50 transition-all",children:[e.jsx("div",{className:"col-span-1 flex justify-center pt-1",children:ve(i.type)}),e.jsxs("div",{className:"col-span-9 space-y-1",children:[e.jsx("p",{className:"text-[13px] font-bold text-white leading-relaxed",children:i.description}),e.jsxs("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:["via ",i.actor]})]}),e.jsx("div",{className:"col-span-2 text-right text-[10px] font-bold text-zinc-700 uppercase tracking-widest pt-1",children:we(new Date(i.timestamp))})]},i.id))})]}),ze=({status:t})=>{const i={[A.ACTIVE]:"bg-white",[A.CREATING]:"bg-zinc-800",[A.ERROR]:"bg-red-600"};return e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${i[t]}`})},ke=({type:t})=>{const s={[D.POSTGRES]:{label:"SQL",color:"text-zinc-600"},[D.REDIS]:{label:"KVS",color:"text-red-500"},[D.SUPABASE]:{label:"SUPA",color:"text-emerald-500"},[D.NEON]:{label:"NEON",color:"text-zinc-400"},[D.MONGODB]:{label:"DOC",color:"text-green-600"},[D.LAMADB]:{label:"LAMA",color:"text-orange-500"}}[t]||{label:"DB",color:"text-zinc-600"};return e.jsx("div",{className:"w-10 h-10 bg-black border border-zinc-900 flex items-center justify-center font-bold text-[9px] uppercase tracking-widest shrink-0",children:e.jsx("span",{className:s.color,children:s.label})})},Se=({databases:t})=>{const i=Y.filter(n=>n.category==="Database"),s=n=>{alert(`Initializing synchronization bridge with ${n}. Awaiting handshake...`)};return e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-10 border-b border-zinc-900 bg-zinc-950/50 flex justify-between items-end",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tighter mb-2",children:"Active Resources"}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"Distributed protocol registries currently in fleet."})]})}),e.jsxs("div",{className:"divide-y divide-zinc-900",children:[t.map(n=>e.jsxs("div",{className:"p-8 grid grid-cols-12 gap-8 items-center hover:bg-zinc-950/50 transition-all",children:[e.jsxs("div",{className:"col-span-12 md:col-span-5 flex items-center gap-6",children:[e.jsx(ke,{type:n.type}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[13px] font-bold text-white tracking-tight",children:n.name}),e.jsxs("p",{className:"text-[10px] font-bold text-zinc-700 uppercase tracking-[0.2em]",children:[n.type," ",n.version]})]})]}),e.jsxs("div",{className:"col-span-6 md:col-span-3 flex items-center gap-3",children:[e.jsx(ze,{status:n.status}),e.jsx("span",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest leading-none",children:n.status})]}),e.jsx("div",{className:"col-span-6 md:col-span-2 text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:n.region}),e.jsx("div",{className:"col-span-12 md:col-span-2 text-right",children:e.jsx("button",{className:"h-10 w-full md:w-auto px-6 border border-zinc-900 text-[10px] font-bold text-zinc-500 hover:border-white hover:text-white uppercase tracking-widest transition-all",children:"Manage"})})]},n.id)),t.length===0&&e.jsx("div",{className:"p-20 text-center",children:e.jsx("p",{className:"text-[10px] font-bold text-zinc-700 uppercase tracking-[0.3em]",children:"No active storage nodes."})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"h-[1px] flex-1 bg-zinc-900"}),e.jsx("h3",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-[0.4em]",children:"Protocol Marketplace"}),e.jsx("div",{className:"h-[1px] flex-1 bg-zinc-900"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(n=>e.jsxs("div",{className:"border border-zinc-900 bg-black p-8 hover:border-zinc-700 transition-all group flex flex-col justify-between h-64",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-white border border-zinc-900 p-2.5 shrink-0 flex items-center justify-center",children:e.jsx("img",{src:n.logoUrl,alt:n.name,className:"w-full h-full object-contain grayscale group-hover:grayscale-0 transition-all duration-500"})}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-700 border border-zinc-900 px-2 py-0.5 uppercase tracking-widest group-hover:text-zinc-500 transition-colors",children:"Enterprise"})]}),e.jsx("h4",{className:"text-lg font-bold text-white tracking-tighter mb-2",children:n.name}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest leading-relaxed line-clamp-2",children:n.description})]}),e.jsx("button",{onClick:()=>s(n.id),className:"h-12 w-full bg-white text-black text-[10px] font-bold uppercase tracking-[0.2em] hover:bg-zinc-200 transition-all mt-6",children:"Initialize Bridge"})]},n.id))})]})]})},De=({integration:t,onToggle:i})=>e.jsxs("div",{className:"border border-zinc-900 bg-black p-8 flex flex-col sm:flex-row items-start sm:items-center gap-8 group hover:bg-zinc-950/50 transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-white border border-zinc-900 flex items-center justify-center p-3 shrink-0",children:e.jsx("img",{src:t.logoUrl,alt:`${t.name} logo`,className:"w-full h-full object-contain grayscale group-hover:grayscale-0 transition-all duration-500"})}),e.jsxs("div",{className:"flex-grow space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-[13px] font-bold text-white tracking-tight",children:t.name}),e.jsx("button",{onClick:()=>i(t.id),className:`h-10 px-6 text-[10px] font-bold uppercase tracking-widest transition-all ${t.isConnected?"border border-zinc-800 text-zinc-500 hover:border-white hover:text-white":"bg-white text-black hover:bg-zinc-200"}`,children:t.isConnected?"Configure":"Initialize"})]}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest leading-relaxed max-w-xl",children:t.description})]})]}),Ie=({integrations:t})=>{const[i,s]=re.useState(()=>new Set(t.filter(a=>a.isConnected).map(a=>a.id))),n=a=>{s(u=>{const b=new Set(u);return b.has(a)?alert(`Managing integration protocol: ${a}`):(b.add(a),alert(`Initializing bridge with ${a}. Awaiting authentication sequence.`)),b})},c=Y.filter(a=>a.category!=="Database").map(a=>({...a,isConnected:i.has(a.id)}));return e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-10 border-b border-zinc-900 bg-zinc-950/50",children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tighter mb-2",children:"Network Links"}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"External protocol bridge."})]}),e.jsx("div",{className:"divide-y divide-zinc-900",children:c.map(a=>e.jsx(De,{integration:a,onToggle:n},a.id))})]})},Le=({deployment:t,isLatest:i})=>e.jsxs("div",{className:`grid grid-cols-12 gap-6 items-center p-6 border-b border-zinc-900 last:border-0 hover:bg-zinc-950/50 transition-all ${i?"bg-zinc-950/30":""}`,children:[e.jsxs("div",{className:"col-span-6 flex items-center gap-6",children:[e.jsx(B,{status:t.status}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[13px] font-bold text-white truncate tracking-tight",children:t.commit}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest mt-1",children:t.branch})]})]}),e.jsx("div",{className:"col-span-3 text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:new Date(t.timestamp).toLocaleDateString()}),e.jsx("div",{className:"col-span-3 text-right",children:e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest hover:text-white transition-colors inline-flex items-center gap-2",children:["Inspect ",e.jsx(_,{className:"w-3 h-3"})]})})]}),Ee=({deployments:t})=>e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:"Node Registry"})}),e.jsx("div",{className:"divide-y divide-zinc-900",children:t.map((i,s)=>e.jsx(Le,{deployment:i,isLatest:s===0},i.id))})]}),Re=[{id:"deployments",label:"Nodes"},{id:"activity",label:"History"},{id:"analytics",label:"Telemetry"},{id:"logs",label:"Console"},{id:"functions",label:"Logic"},{id:"storage",label:"Storage"},{id:"integrations",label:"Integrations"},{id:"domains",label:"Nexus"},{id:"environment",label:"Secrets"},{id:"team",label:"Registry"}],Te=({tabName:t,label:i,isActive:s,onClick:n})=>e.jsx("button",{onClick:()=>n(t),className:`px-0 py-4 text-[10px] font-bold uppercase tracking-[0.2em] transition-all border-b-2 whitespace-nowrap ${s?"border-white text-white":"border-transparent text-zinc-600 hover:text-zinc-400"}`,"aria-current":s?"page":void 0,children:i}),Ce=({activeTab:t,setActiveTab:i})=>e.jsx("div",{className:"border-b border-zinc-900",children:e.jsx("nav",{className:"flex items-center gap-10 -mb-px overflow-x-auto no-scrollbar","aria-label":"Project sections",children:Re.map(s=>e.jsx(Te,{tabName:s.id,label:s.label,isActive:t===s.id,onClick:i},s.id))})}),Ae='<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 12L12 22L22 12L12 2Z" stroke="white" stroke-width="1.5" stroke-linejoin="round"/><path d="M12 7L7 12L12 17L17 12L12 7Z" fill="white"/></svg>',Pe=`
<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <style>
    .outline {
        stroke-dasharray: 80;
        stroke-dashoffset: 80;
        animation: draw 2s ease-in-out forwards infinite;
    }
    .center {
        opacity: 0;
        transform-origin: center;
        animation: pulse 2s ease-in-out forwards infinite;
    }
    @keyframes draw {
        50% { stroke-dashoffset: 0; }
        100% { stroke-dashoffset: -80; }
    }
    @keyframes pulse {
        0% { opacity: 0; transform: scale(0.5); }
        20%, 100% { opacity: 1; transform: scale(1); }
        40% { transform: scale(1.1); }
    }
  </style>
  <path class="outline" d="M12 2L2 12L12 22L22 12L12 2Z" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
  <path class="center" d="M12 7L7 12L12 17L17 12L12 7Z" fill="white"/>
</svg>
`,W=t=>{try{const i=document.querySelector("link[rel*='icon']")||document.createElement("link");i.type="image/svg+xml",i.rel="icon",i.href=`data:image/svg+xml;base64,${btoa(t)}`,i.parentNode||document.getElementsByTagName("head")[0].appendChild(i)}catch(i){console.error("Failed to update favicon",i)}},Me=()=>{W(Pe)},U=()=>{W(Ae)},Oe=({project:t})=>{const i=t.deployments[0],s=t.domains.find(n=>n.isPrimary)||t.domains[0];return e.jsxs("div",{className:"space-y-12",children:[e.jsx("button",{onClick:()=>ce("/"),className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest hover:text-white transition-colors",children:"â† Return to Fleet"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8",children:[e.jsxs("div",{className:"flex items-start gap-8",children:[e.jsx(de,{framework:t.framework,size:"large"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-4xl font-bold tracking-tighter text-white",children:t.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s&&e.jsx("a",{href:`https://${s.name}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold text-zinc-500 uppercase tracking-[0.15em] hover:text-white transition-colors underline underline-offset-4 decoration-zinc-800",children:s.name}),e.jsxs("a",{href:"#",onClick:n=>n.preventDefault(),className:"text-xs font-bold text-zinc-600 uppercase tracking-[0.15em] hover:text-white transition-colors flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsxs("span",{children:["opendev-labs / ",t.name]})]})]})]})]}),e.jsxs("div",{className:"border border-zinc-900 bg-black p-5 flex items-center gap-6",children:[e.jsx(B,{status:i.status}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-white uppercase tracking-widest",children:i.status}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:new Date(i.timestamp).toLocaleDateString()})]})]})]})]})},$e=({onSimulatePush:t,onSimulatePR:i,isBuildInProgress:s})=>e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-zinc-900 flex justify-between items-center bg-zinc-950/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-widest mb-1 leading-none",children:"Continuous Deployment"}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest leading-none",children:"Simulate protocol events."})]}),e.jsx($,{className:"h-4 w-4 text-zinc-600"})]}),e.jsxs("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:t,disabled:s,className:"h-12 border border-zinc-900 text-[10px] font-bold text-zinc-500 uppercase tracking-widest hover:border-white hover:text-white transition-all disabled:opacity-20",children:"Simulate Push [main]"}),e.jsx("button",{onClick:i,disabled:s,className:"h-12 border border-zinc-900 text-[10px] font-bold text-zinc-500 uppercase tracking-widest hover:border-white hover:text-white transition-all disabled:opacity-20",children:"Simulate PR [feat/nexus]"})]})]}),Fe=({project:t,onUpdateProject:i})=>{const[s,n]=o.useState(t),[c,a]=o.useState([]),[u,b]=o.useState(!1),[y,v]=o.useState("deployments"),[I,z]=o.useState(""),[L,k]=o.useState("Queued"),h=o.useRef(null),f=t.deployments[0],g=[p.BUILDING,p.QUEUED,p.DEPLOYING].includes(f.status),E=g?"logs":y,j=f.status===p.ERROR;o.useEffect(()=>{n(t)},[t]),o.useEffect(()=>(g?Me():U(),()=>U()),[g]),o.useEffect(()=>{const r=t.deployments[0];if(h.current!==r.id&&(a([]),h.current=r.id),r.status===p.QUEUED)b(!0),k("Queued"),setTimeout(()=>{const l={...t,deployments:[{...r,status:p.BUILDING},...t.deployments.slice(1)]};i(l)},1e3);else if(r.status===p.BUILDING||r.status===p.DEPLOYING){b(!0);const l=r.commit.includes("Initial")?V:P;if(c.length>=l.length){if(u){b(!1);const x=l===P?p.ERROR:p.DEPLOYED;k(x===p.DEPLOYED?"Deployed":"Error");const m={...r,status:x},N={...t,deployments:[m,...t.deployments.slice(1)],lastUpdated:"Just now"};i(N)}return}const d=setTimeout(()=>{const x=c.length,m=l[x];a(R=>[...R,{...m,timestamp:new Date().toISOString()}]);let N="",S=null;m.level==="SYSTEM"&&(m.message.includes("Cloning")?N="Cloning Repository":m.message.includes("Installing")?N="Installing Dependencies":m.message.includes("Running build command")?N="Building":m.message.includes("Deploying")&&(N="Deploying",S=p.DEPLOYING)),N&&k(N),S&&S!==r.status&&i({...t,deployments:[{...r,status:S},...t.deployments.slice(1)]})},500+Math.random()*500);return()=>clearTimeout(d)}else{b(!1);const l=r.status===p.ERROR?P:V;a(l.map(d=>({...d,timestamp:new Date(r.timestamp).toISOString()}))),k(r.status)}},[t,i,c,u]);const H=r=>{r.preventDefault();const l=I.trim();if(!l||s.domains.some(m=>m.name===l)){z("");return}const d={name:l,isPrimary:s.domains.length===0},x={...s,domains:[...s.domains,d]};n(x),i(x),z("")},Q=r=>{const l=s.domains.find(m=>m.name===r);let d=s.domains.filter(m=>m.name!==r);l?.isPrimary&&d.length>0&&(d[0].isPrimary=!0);const x={...s,domains:d};n(x),i(x)},q=r=>{const l=s.domains.map(x=>({...x,isPrimary:x.name===r})),d={...s,domains:l};n(d),i(d)},G=(r,l,d=!0)=>e.jsxs("div",{className:"border border-zinc-900 bg-black overflow-hidden",children:[e.jsx("div",{className:"px-8 py-5 border-b border-zinc-900 bg-zinc-950/50",children:e.jsx("h3",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]",children:r})}),e.jsx("div",{className:`${d?"p-8":""}`,children:l})]}),K=r=>{v(r)},Z=()=>{const r={id:`dpl_${Date.now()}`,commit:"build(nexus): Protocol synchronization initiated",branch:"main",timestamp:new Date().toISOString(),status:p.QUEUED,url:s.domains.find(x=>x.isPrimary)?.name||`${s.name}.opendev.app`},l={id:`act_${Date.now()}`,type:"Git",description:"Triggered deployment from push to main",actor:"System (Nexus)",timestamp:new Date().toISOString()},d={...s,deployments:[r,...s.deployments],activityLog:[l,...s.activityLog||[]]};i(d),v("logs")},J=()=>{const r="feat/nexus",l=Math.random().toString(36).substring(2,8),d=r.replace("/","-"),x=`${s.name}-git-${d}-${l}.opendev.app`,m={id:`dpl_${Date.now()}`,commit:`feat(core): Nexus expansion protocol (#${Math.floor(Math.random()*100)+1})`,branch:r,timestamp:new Date().toISOString(),status:p.QUEUED,url:x},N={name:x,isPrimary:!1,gitBranch:r},S={id:`act_${Date.now()}`,type:"Git",description:`Created preview deployment for branch ${r}`,actor:"System (Nexus)",timestamp:new Date().toISOString()},R={...s,deployments:[m,...s.deployments],domains:[...s.domains,N],activityLog:[S,...s.activityLog||[]]};i(R),v("logs")},X=()=>{switch(E){case"deployments":return e.jsxs("div",{className:"space-y-8",children:[e.jsx($e,{onSimulatePush:Z,onSimulatePR:J,isBuildInProgress:g}),e.jsx(Ee,{deployments:t.deployments})]});case"activity":return s.activityLog?e.jsx(ye,{events:s.activityLog}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"No protocol activity detected."});case"analytics":return s.analytics?e.jsx(ge,{data:s.analytics}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"Telemetry unavailable."});case"logs":return e.jsx(me,{logs:c,isBuilding:u,currentBuildStatusText:L});case"functions":return s.functions?e.jsx(je,{functions:s.functions}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"Logic primitives not found."});case"storage":return s.storage?e.jsx(Se,{databases:s.storage}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"Edge storage uninitialized."});case"integrations":return s.integrations?e.jsx(Ie,{integrations:s.integrations}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"External links inactive."});case"domains":return G("Nexus Bindings",e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[s.domains.map(r=>e.jsxs("div",{className:"flex justify-between items-center bg-zinc-950 p-6 border border-zinc-900",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("a",{href:`https://${r.name}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold text-white uppercase tracking-widest hover:underline",children:r.name}),r.gitBranch&&e.jsxs("p",{className:"text-[10px] font-bold text-zinc-600 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx($,{className:"h-3 w-3"}),r.gitBranch]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[r.isPrimary?e.jsx("span",{className:"text-[10px] font-bold text-white bg-zinc-900 px-3 py-1 uppercase tracking-widest",children:"Primary"}):e.jsx("button",{onClick:()=>q(r.name),className:"text-[10px] font-bold text-zinc-500 hover:text-white uppercase tracking-widest transition-colors",children:"Set Primary"}),e.jsx("button",{onClick:()=>Q(r.name),className:"text-[10px] font-bold text-red-900/50 hover:text-red-600 uppercase tracking-widest transition-colors",children:"Purge"})]})]},r.name)),s.domains.length===0&&e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest text-center py-12",children:"No domains bound."})]}),e.jsxs("div",{className:"pt-8 border-t border-zinc-900",children:[e.jsx("h4",{className:"text-[10px] font-bold text-white uppercase tracking-widest mb-6",children:"Initialize Binding"}),e.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:I,onChange:r=>z(r.target.value),placeholder:"nexus.mesh",className:"flex-grow bg-zinc-950 border border-zinc-900 p-4 text-xs font-bold text-white placeholder:text-zinc-800 focus:outline-none focus:border-white transition-all uppercase tracking-widest"}),e.jsx("button",{type:"submit",className:"bg-white text-black font-bold px-8 hover:bg-zinc-200 transition-colors text-[10px] uppercase tracking-widest",children:"Bind"})]}),e.jsx("p",{className:"text-[10px] font-bold text-zinc-700 uppercase tracking-widest mt-4 italic",children:"Configure external DNS protocols for full mesh synchronization."})]})]}),!0);case"environment":return G("Protocol Variables",e.jsxs("div",{className:"space-y-6",children:[Object.entries(s.envVars).map(([r,l])=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest w-1/3 truncate",children:r}),e.jsx("span",{className:"flex-1 p-4 bg-zinc-950 border border-zinc-900 font-mono text-[11px] text-zinc-400 truncate tracking-tight",children:l})]},r)),Object.keys(s.envVars).length===0&&e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"No variables injected."})]}),!0);case"team":return s.teamMembers?e.jsx(Ne,{members:s.teamMembers}):e.jsx("p",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest p-12 text-center",children:"Fleet registry unavailable."});default:return null}};return e.jsxs("div",{className:"space-y-16 flex flex-col flex-grow max-w-[1400px] mx-auto w-full",children:[e.jsx(Oe,{project:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12 flex-grow",children:[e.jsxs("div",{className:`${j?"lg:col-span-3":"lg:col-span-4"} space-y-10 flex flex-col`,children:[e.jsx(Ce,{activeTab:E,setActiveTab:K}),e.jsx("div",{className:"flex-grow",children:X()})]}),j&&e.jsx("div",{className:"lg:col-span-1",children:e.jsx(he,{logs:c,deploymentStatus:f.status,deploymentId:f.id})})]})]})};export{Fe as ProjectDetailView};
